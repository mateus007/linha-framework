var Lazy={active:!1,init:function(){var self=this,elements=Array.from(document.querySelectorAll("[loading]"));function runLoad(){self.active||(self.active=!0,window.setTimeout(function(){0!==elements.length&&elements.forEach(function(element){self.isInViewport(element)&&(self.loadElement(element),elements=elements.filter(function(theElement){return element!==theElement}))}),0===elements.length&&(document.removeEventListener("scroll",runLoad),window.removeEventListener("resize",runLoad),window.removeEventListener("orientationchange",runLoad)),self.active=!1},200))}"loading"in HTMLImageElement.prototype?elements.forEach(function(element){self.loadElement(element)}):(document.addEventListener("scroll",runLoad),window.addEventListener("resize",runLoad),window.addEventListener("orientationchange",runLoad),runLoad())},updateElement:function(element){element.dataset.src&&(element.src=element.dataset.src),element.dataset.srcset&&(element.srcset=element.dataset.srcset),element.dataset.sizes&&(element.sizes=element.dataset.sizes),element.classList.remove("lazy")},loadElement:function(child){var self=this;self.updateElement(child);child=child.parentElement.querySelectorAll("source");(child=[].slice.call(child)).length&&child.forEach(function(childElement){self.updateElement(childElement)})},isInViewport:function(element){return element.getBoundingClientRect().top<=window.innerHeight&&0<=element.getBoundingClientRect().bottom&&"none"!==getComputedStyle(element).display}};document.addEventListener("DOMContentLoaded",function(){Lazy.init()});
//# sourceMappingURL=lazy.js.map